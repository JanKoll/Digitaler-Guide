{"version":3,"sources":["webpack:///node_modules/@ionic-native/geolocation/index.js","webpack:///src/app/components/article-preview/article-preview.component.html","webpack:///src/app/components/legend/legend.component.scss","webpack:///src/app/components/legend/legend.component.html","webpack:///src/app/components/legend/legend.component.ts","webpack:///src/app/components/article-preview/article-preview.component.ts","webpack:///src/app/location/location.module.ts","webpack:///src/app/location/location.page.html","webpack:///src/app/location/location.page.scss","webpack:///src/app/location/location-routing.module.ts","webpack:///src/app/components/article-preview/article-preview.component.scss","webpack:///src/app/location/location.page.ts"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","GeolocationOriginal","_super","apply","arguments","getCurrentPosition","options","watchPosition","observer","watchId","navigator","geolocation","next","bind","clearWatch","pluginName","plugin","pluginRef","repo","install","installVariables","platforms","Geolocation","LegendComponent","modalCtrl","nativeStorage","getItem","then","data","error","console","log","dismiss","selector","template","ArticlePreviewComponent","router","more","id","navigate","LocationPageModule","imports","declarations","routes","path","component","LocationPageRoutingModule","forChild","exports","LocationPage","platform","alertController","sanitizer","qrScanner","zone","activatedRoute","http","lang","title","res","localGET","restGET","backButton","subscribeWithPriority","document","getElementsByTagName","classList","toggle","destroy","params","subscribe","main","forEach","element","content","coords","callGeoInterval","useBasicAuth","get","JSON","parse","status","headers","clearInterval","interval","setInterval","getCurrentLocation","position","latitude","longitude","height","leftTop","lat","rightBot","width","lon","pointcoord","geoData","ycoord","xcoord","componentProps","children","swipeToClose","cssClass","modal","present","msg","cancel","sett","header","message","buttons","text","role","handler","openSettings","alert","prepare","authorized","show","scanSub","scan","textFound","map","x","includes","run","undefinedQrCode","err","stringify","e","accessCamera","type","saveurl","bypassSecurityTrustResourceUrl"],"mappings":"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","file":"location-location-module-es5.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport { Observable } from 'rxjs';\nvar GeolocationOriginal = /** @class */ (function (_super) {\n    __extends(GeolocationOriginal, _super);\n    function GeolocationOriginal() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GeolocationOriginal.prototype.getCurrentPosition = function (options) { return cordova(this, \"getCurrentPosition\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    /**\n     * Watch the current device's position.  Clear the watch by unsubscribing from\n     * Observable changes.\n     *\n     * ```typescript\n     * const subscription = this.geolocation.watchPosition()\n     *                               .filter((p) => p.coords !== undefined) //Filter Out Errors\n     *                               .subscribe(position => {\n     *   console.log(position.coords.longitude + ' ' + position.coords.latitude);\n     * });\n     *\n     * // To stop notifications\n     * subscription.unsubscribe();\n     * ```\n     *\n     * @param {GeolocationOptions} options  The [geolocation options](https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions).\n     * @returns {Observable<Geoposition | PositionError>} Returns an Observable that notifies with the [position](https://developer.mozilla.org/en-US/docs/Web/API/Position) of the device, or errors.\n     */\n    GeolocationOriginal.prototype.watchPosition = function (options) {\n        return new Observable(function (observer) {\n            var watchId = navigator.geolocation.watchPosition(observer.next.bind(observer), observer.next.bind(observer), options);\n            return function () { return navigator.geolocation.clearWatch(watchId); };\n        });\n    };\n    GeolocationOriginal.pluginName = \"Geolocation\";\n    GeolocationOriginal.plugin = \"cordova-plugin-geolocation\";\n    GeolocationOriginal.pluginRef = \"navigator.geolocation\";\n    GeolocationOriginal.repo = \"https://github.com/apache/cordova-plugin-geolocation\";\n    GeolocationOriginal.install = \"ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION=\\\"To locate you\\\"\";\n    GeolocationOriginal.installVariables = [\"GEOLOCATION_USAGE_DESCRIPTION\"];\n    GeolocationOriginal.platforms = [\"Amazon Fire OS\", \"Android\", \"Browser\", \"iOS\", \"Windows\"];\n    return GeolocationOriginal;\n}(IonicNativePlugin));\nvar Geolocation = new GeolocationOriginal();\nexport { Geolocation };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2dlb2xvY2F0aW9uL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDQSxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0lBa0tELCtCQUFpQjs7OztJQVVoRCx3Q0FBa0IsYUFBQyxPQUE0QjtJQUkvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FpQkc7SUFDSCxtQ0FBYSxHQUFiLFVBQWMsT0FBNEI7UUFDeEMsT0FBTyxJQUFJLFVBQVUsQ0FBOEIsVUFBQyxRQUFhO1lBQy9ELElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUNqRCxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFDNUIsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQzVCLE9BQU8sQ0FDUixDQUFDO1lBQ0YsT0FBTyxjQUFNLE9BQUEsU0FBUyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQXpDLENBQXlDLENBQUM7UUFDekQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDOzs7Ozs7OztzQkE3TUg7RUFvS2lDLGlCQUFpQjtTQUFyQyxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbmRlY2xhcmUgY29uc3QgbmF2aWdhdG9yOiBhbnk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29vcmRpbmF0ZXMge1xuICAvKipcbiAgICogYSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbidzIGxhdGl0dWRlIGluIGRlY2ltYWwgZGVncmVlcy5cbiAgICovXG4gIGxhdGl0dWRlOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24ncyBsb25naXR1ZGUgaW4gZGVjaW1hbCBkZWdyZWVzLlxuICAgKi9cbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgYWNjdXJhY3kgb2YgdGhlIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgcHJvcGVydGllcyxcbiAgICogZXhwcmVzc2VkIGluIG1ldGVycy5cbiAgICovXG4gIGFjY3VyYWN5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24ncyBhbHRpdHVkZSBpbiBtZXRyZXMsIHJlbGF0aXZlIHRvIHNlYVxuICAgKiBsZXZlbC4gVGhpcyB2YWx1ZSBjYW4gYmUgbnVsbCBpZiB0aGUgaW1wbGVtZW50YXRpb24gY2Fubm90IHByb3ZpZGUgdGhlIGRhdGEuXG4gICAqL1xuICBhbHRpdHVkZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIGFjY3VyYWN5IG9mIHRoZSBhbHRpdHVkZSBleHByZXNzZWQgaW4gbWV0ZXJzLlxuICAgKiBUaGlzIHZhbHVlIGNhbiBiZSBudWxsLlxuICAgKi9cbiAgYWx0aXR1ZGVBY2N1cmFjeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIGRpcmVjdGlvbiBpbiB3aGljaCB0aGUgZGV2aWNlIGlzIHRyYXZlbGluZy4gVGhpc1xuICAgKiB2YWx1ZSwgc3BlY2lmaWVkIGluIGRlZ3JlZXMsIGluZGljYXRlcyBob3cgZmFyIG9mZiBmcm9tIGhlYWRpbmcgdHJ1ZSBub3J0aFxuICAgKiB0aGUgZGV2aWNlIGlzLiAwIGRlZ3JlZXMgcmVwcmVzZW50cyB0cnVlIG5vcnRoLCBhbmQgdGhlIGRpcmVjdGlvbiBpc1xuICAgKiBkZXRlcm1pbmVkIGNsb2Nrd2lzZSAod2hpY2ggbWVhbnMgdGhhdCBlYXN0IGlzIDkwIGRlZ3JlZXMgYW5kIHdlc3QgaXMgMjcwXG4gICAqIGRlZ3JlZXMpLiBJZiBzcGVlZCBpcyAwLCBoZWFkaW5nIGlzIE5hTi4gSWYgdGhlIGRldmljZSBpcyB1bmFibGUgdG8gcHJvdmlkZVxuICAgKiBoZWFkaW5nIGluZm9ybWF0aW9uLCB0aGlzIHZhbHVlIGlzIG51bGwuXG4gICAqL1xuICBoZWFkaW5nOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgdmVsb2NpdHkgb2YgdGhlIGRldmljZSBpbiBtZXRlcnMgcGVyIHNlY29uZC5cbiAgICogVGhpcyB2YWx1ZSBjYW4gYmUgbnVsbC5cbiAgICovXG4gIHNwZWVkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VvcG9zaXRpb24ge1xuICAvKipcbiAgICogQSBDb29yZGluYXRlcyBvYmplY3QgZGVmaW5pbmcgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICovXG4gIGNvb3JkczogQ29vcmRpbmF0ZXM7XG5cbiAgLyoqXG4gICAqIEEgdGltZXN0YW1wIHJlcHJlc2VudGluZyB0aGUgdGltZSBhdCB3aGljaCB0aGUgbG9jYXRpb24gd2FzIHJldHJpZXZlZC5cbiAgICovXG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uRXJyb3Ige1xuICAvKipcbiAgICogQSBjb2RlIHRoYXQgaW5kaWNhdGVzIHRoZSBlcnJvciB0aGF0IG9jY3VycmVkXG4gICAqL1xuICBjb2RlOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEEgbWVzc2FnZSB0aGF0IGNhbiBkZXNjcmliZSB0aGUgZXJyb3IgdGhhdCBvY2N1cnJlZFxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlb2xvY2F0aW9uT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBJcyBhIHBvc2l0aXZlIGxvbmcgdmFsdWUgaW5kaWNhdGluZyB0aGUgbWF4aW11bSBhZ2UgaW4gbWlsbGlzZWNvbmRzIG9mIGFcbiAgICogcG9zc2libGUgY2FjaGVkIHBvc2l0aW9uIHRoYXQgaXMgYWNjZXB0YWJsZSB0byByZXR1cm4uIElmIHNldCB0byAwLCBpdFxuICAgKiBtZWFucyB0aGF0IHRoZSBkZXZpY2UgY2Fubm90IHVzZSBhIGNhY2hlZCBwb3NpdGlvbiBhbmQgbXVzdCBhdHRlbXB0IHRvXG4gICAqIHJldHJpZXZlIHRoZSByZWFsIGN1cnJlbnQgcG9zaXRpb24uIElmIHNldCB0byBJbmZpbml0eSB0aGUgZGV2aWNlIG11c3RcbiAgICogcmV0dXJuIGEgY2FjaGVkIHBvc2l0aW9uIHJlZ2FyZGxlc3Mgb2YgaXRzIGFnZS4gRGVmYXVsdDogMC5cbiAgICovXG4gIG1heGltdW1BZ2U/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIElzIGEgcG9zaXRpdmUgbG9uZyB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIG1heGltdW0gbGVuZ3RoIG9mIHRpbWVcbiAgICogKGluIG1pbGxpc2Vjb25kcykgdGhlIGRldmljZSBpcyBhbGxvd2VkIHRvIHRha2UgaW4gb3JkZXIgdG8gcmV0dXJuIGFcbiAgICogcG9zaXRpb24uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIEluZmluaXR5LCBtZWFuaW5nIHRoYXQgZ2V0Q3VycmVudFBvc2l0aW9uKClcbiAgICogd29uJ3QgcmV0dXJuIHVudGlsIHRoZSBwb3NpdGlvbiBpcyBhdmFpbGFibGUuXG4gICAqL1xuICB0aW1lb3V0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIGFwcGxpY2F0aW9uIHdvdWxkIGxpa2UgdG8gcmVjZWl2ZSB0aGUgYmVzdCBwb3NzaWJsZSByZXN1bHRzLlxuICAgKiBJZiB0cnVlIGFuZCBpZiB0aGUgZGV2aWNlIGlzIGFibGUgdG8gcHJvdmlkZSBhIG1vcmUgYWNjdXJhdGUgcG9zaXRpb24sIGl0XG4gICAqIHdpbGwgZG8gc28uIE5vdGUgdGhhdCB0aGlzIGNhbiByZXN1bHQgaW4gc2xvd2VyIHJlc3BvbnNlIHRpbWVzIG9yIGluY3JlYXNlZFxuICAgKiBwb3dlciBjb25zdW1wdGlvbiAod2l0aCBhIEdQUyBjaGlwIG9uIGEgbW9iaWxlIGRldmljZSBmb3IgZXhhbXBsZSkuIE9uIHRoZVxuICAgKiBvdGhlciBoYW5kLCBpZiBmYWxzZSwgdGhlIGRldmljZSBjYW4gdGFrZSB0aGUgbGliZXJ0eSB0byBzYXZlIHJlc291cmNlcyBieVxuICAgKiByZXNwb25kaW5nIG1vcmUgcXVpY2tseSBhbmQvb3IgdXNpbmcgbGVzcyBwb3dlci4gRGVmYXVsdDogZmFsc2UuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgZW5hYmxlSGlnaEFjY3VyYWN5PzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAbmFtZSBHZW9sb2NhdGlvblxuICogQHByZW1pZXIgZ2VvbG9jYXRpb25cbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBwbHVnaW4gcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGRldmljZSdzIGxvY2F0aW9uLCBzdWNoIGFzIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUuIENvbW1vbiBzb3VyY2VzIG9mIGxvY2F0aW9uIGluZm9ybWF0aW9uIGluY2x1ZGUgR2xvYmFsIFBvc2l0aW9uaW5nIFN5c3RlbSAoR1BTKSBhbmQgbG9jYXRpb24gaW5mZXJyZWQgZnJvbSBuZXR3b3JrIHNpZ25hbHMgc3VjaCBhcyBJUCBhZGRyZXNzLCBSRklELCBXaUZpIGFuZCBCbHVldG9vdGggTUFDIGFkZHJlc3NlcywgYW5kIEdTTS9DRE1BIGNlbGwgSURzLlxuICpcbiAqICBUaGlzIEFQSSBpcyBiYXNlZCBvbiB0aGUgVzNDIEdlb2xvY2F0aW9uIEFQSSBTcGVjaWZpY2F0aW9uLCBhbmQgb25seSBleGVjdXRlcyBvbiBkZXZpY2VzIHRoYXQgZG9uJ3QgYWxyZWFkeSBwcm92aWRlIGFuIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEZvciBpT1MgeW91IGhhdmUgdG8gYWRkIHRoaXMgY29uZmlndXJhdGlvbiB0byB5b3VyIGNvbmZpZ3VyYXRpb24ueG1sIGZpbGVcbiAqIGBgYHhtbFxuICogPGVkaXQtY29uZmlnIGZpbGU9XCIqLUluZm8ucGxpc3RcIiBtb2RlPVwibWVyZ2VcIiB0YXJnZXQ9XCJOU0xvY2F0aW9uV2hlbkluVXNlVXNhZ2VEZXNjcmlwdGlvblwiPlxuICogICAgPHN0cmluZz5XZSB1c2UgeW91ciBsb2NhdGlvbiBmb3IgZnVsbCBmdW5jdGlvbmFsaXR5IG9mIGNlcnRhaW4gYXBwIGZlYXR1cmVzLjwvc3RyaW5nPlxuICogPC9lZGl0LWNvbmZpZz5cbiAqIGBgYFxuICpcbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBHZW9sb2NhdGlvbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvZ2VvbG9jYXRpb24vbmd4JztcbiAqXG4gKiAuLi5cbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGdlb2xvY2F0aW9uOiBHZW9sb2NhdGlvbikge31cbiAqXG4gKiAuLi5cbiAqXG4gKiB0aGlzLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpLnRoZW4oKHJlc3ApID0+IHtcbiAqICAvLyByZXNwLmNvb3Jkcy5sYXRpdHVkZVxuICogIC8vIHJlc3AuY29vcmRzLmxvbmdpdHVkZVxuICogfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdFcnJvciBnZXR0aW5nIGxvY2F0aW9uJywgZXJyb3IpO1xuICogfSk7XG4gKlxuICogbGV0IHdhdGNoID0gdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCk7XG4gKiB3YXRjaC5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAqICAvLyBkYXRhIGNhbiBiZSBhIHNldCBvZiBjb29yZGluYXRlcywgb3IgYW4gZXJyb3IgKGlmIGFuIGVycm9yIG9jY3VycmVkKS5cbiAqICAvLyBkYXRhLmNvb3Jkcy5sYXRpdHVkZVxuICogIC8vIGRhdGEuY29vcmRzLmxvbmdpdHVkZVxuICogfSk7XG4gKiBgYGBcbiAqIEBpbnRlcmZhY2VzXG4gKiBDb29yZGluYXRlc1xuICogR2VvcG9zaXRpb25cbiAqIFBvc2l0aW9uRXJyb3JcbiAqIEdlb2xvY2F0aW9uT3B0aW9uc1xuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0dlb2xvY2F0aW9uJyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tZ2VvbG9jYXRpb24nLFxuICBwbHVnaW5SZWY6ICduYXZpZ2F0b3IuZ2VvbG9jYXRpb24nLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3Jkb3ZhLXBsdWdpbi1nZW9sb2NhdGlvbicsXG4gIGluc3RhbGw6XG4gICAgJ2lvbmljIGNvcmRvdmEgcGx1Z2luIGFkZCBjb3Jkb3ZhLXBsdWdpbi1nZW9sb2NhdGlvbiAtLXZhcmlhYmxlIEdFT0xPQ0FUSU9OX1VTQUdFX0RFU0NSSVBUSU9OPVwiVG8gbG9jYXRlIHlvdVwiJyxcbiAgaW5zdGFsbFZhcmlhYmxlczogWydHRU9MT0NBVElPTl9VU0FHRV9ERVNDUklQVElPTiddLFxuICBwbGF0Zm9ybXM6IFsnQW1hem9uIEZpcmUgT1MnLCAnQW5kcm9pZCcsICdCcm93c2VyJywgJ2lPUycsICdXaW5kb3dzJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEdlb2xvY2F0aW9uIGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogR2V0IHRoZSBkZXZpY2UncyBjdXJyZW50IHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge0dlb2xvY2F0aW9uT3B0aW9uc30gb3B0aW9ucyAgVGhlIFtnZW9sb2NhdGlvbiBvcHRpb25zXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb25PcHRpb25zKS5cbiAgICogQHJldHVybnMge1Byb21pc2U8R2VvcG9zaXRpb24+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIFtwb3NpdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uKSBvZiB0aGUgZGV2aWNlLCBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnLFxuICB9KVxuICBnZXRDdXJyZW50UG9zaXRpb24ob3B0aW9ucz86IEdlb2xvY2F0aW9uT3B0aW9ucyk6IFByb21pc2U8R2VvcG9zaXRpb24+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogV2F0Y2ggdGhlIGN1cnJlbnQgZGV2aWNlJ3MgcG9zaXRpb24uICBDbGVhciB0aGUgd2F0Y2ggYnkgdW5zdWJzY3JpYmluZyBmcm9tXG4gICAqIE9ic2VydmFibGUgY2hhbmdlcy5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChwKSA9PiBwLmNvb3JkcyAhPT0gdW5kZWZpbmVkKSAvL0ZpbHRlciBPdXQgRXJyb3JzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUocG9zaXRpb24gPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgKyAnICcgKyBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xuICAgKiB9KTtcbiAgICpcbiAgICogLy8gVG8gc3RvcCBub3RpZmljYXRpb25zXG4gICAqIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtHZW9sb2NhdGlvbk9wdGlvbnN9IG9wdGlvbnMgIFRoZSBbZ2VvbG9jYXRpb24gb3B0aW9uc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uT3B0aW9ucykuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEdlb3Bvc2l0aW9uIHwgUG9zaXRpb25FcnJvcj59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIHdpdGggdGhlIFtwb3NpdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uKSBvZiB0aGUgZGV2aWNlLCBvciBlcnJvcnMuXG4gICAqL1xuICB3YXRjaFBvc2l0aW9uKG9wdGlvbnM/OiBHZW9sb2NhdGlvbk9wdGlvbnMpOiBPYnNlcnZhYmxlPEdlb3Bvc2l0aW9uIHwgUG9zaXRpb25FcnJvcj4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxHZW9wb3NpdGlvbiB8IFBvc2l0aW9uRXJyb3I+KChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICBjb25zdCB3YXRjaElkID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oXG4gICAgICAgIG9ic2VydmVyLm5leHQuYmluZChvYnNlcnZlciksXG4gICAgICAgIG9ic2VydmVyLm5leHQuYmluZChvYnNlcnZlciksXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgICByZXR1cm4gKCkgPT4gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2god2F0Y2hJZCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","export default \"<div class=\\\"content\\\">\\n    <div class=\\\"icon-header\\\">\\n      <div class=\\\"icon\\\">\\n        <img src=\\\"data:image/png;base64,{{ data.icon }}\\\" alt=\\\"{{ data.title }} Icon\\\">\\n      </div>\\n\\n      <h2>{{ data.title }}</h2>\\n    </div>\\n\\n    <div class=\\\"text\\\">\\n      <div class=\\\"close\\\" (click)=\\\"close()\\\">\\n        <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 100 100\\\" style=\\\"height: .75rem; width: .75rem; overflow: hidden\\\">\\n          <defs>\\n            <style>\\n              .closedark {\\n                fill: #000000;\\n              }\\n            </style>\\n          </defs>\\n          <g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\">\\n            <g id=\\\"Layer_1-2\\\" data-name=\\\"Layer 1\\\"><polygon class=\\\"closedark\\\" points=\\\"100 9.83 90.17 0 50 40.17 9.83 0 0 9.83 40.17 50 0 90.17 9.83 100 50 59.83 90.17 100 100 90.17 59.83 50 100 9.83\\\"/></g>\\n          </g>\\n        </svg>\\n      </div>\\n      <p>{{ data.teasertext }}</p>\\n\\n      <ion-img src=\\\"data:image/jpeg;base64,{{ data.teaserimg }}\\\" alt=\\\"{{ data.title }} Vorschaubild\\\"></ion-img>\\n\\n      <div [innerHTML]=\\\"data.time\\\"></div>\\n\\n      <div class=\\\"routerbtn\\\">\\n        <ion-button (click)=\\\"route(data.id)\\\">\\n          {{ more }}\\n        </ion-button>\\n      </div>\\n    </div>\\n</div>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsZWdlbmQuY29tcG9uZW50LnNjc3MifQ== */\";","export default \"<div class=\\\"content\\\">\\n    <div class=\\\"text\\\">\\n      <div class=\\\"close\\\" (click)=\\\"close()\\\">\\n        <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 100 100\\\" style=\\\"height: .75rem; width: .75rem; overflow: hidden\\\">\\n          <defs>\\n            <style>\\n              .closedark {\\n                fill: #000000;\\n              }\\n            </style>\\n          </defs>\\n          <g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\">\\n            <g id=\\\"Layer_1-2\\\" data-name=\\\"Layer 1\\\"><polygon class=\\\"closedark\\\" points=\\\"100 9.83 90.17 0 50 40.17 9.83 0 0 9.83 40.17 50 0 90.17 9.83 100 50 59.83 90.17 100 100 90.17 59.83 50 100 9.83\\\"/></g>\\n          </g>\\n        </svg>\\n      </div>\\n\\n      <p><b>{{data.title}}</b></p>\\n\\n      <div class=\\\"leg\\\">\\n        <div class=\\\"location\\\"></div>\\n        <p>{{data.location}}</p>\\n      </div>\\n\\n      <div class=\\\"leg\\\">\\n        <div class=\\\"station\\\">\\n          <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 39.62 34.31\\\"><defs><style>.cls-1{fill:#006c66;stroke-width:4px;}.cls-1,.cls-2{stroke:#eee;stroke-miterlimit:10;}.cls-2{fill:#eee;}</style></defs><g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\"><g id=\\\"Hintergrund\\\"><polygon class=\\\"cls-1\\\" points=\\\"28.56 2 11.06 2 2.31 17.16 11.06 32.31 28.56 32.31 37.31 17.16 28.56 2\\\"/><path class=\\\"cls-2\\\" d=\\\"M18.32,24.24a1.47,1.47,0,0,1,1.49-1.56,1.45,1.45,0,0,1,1.49,1.56,1.49,1.49,0,1,1-3,0ZM19,20.63,18.6,8.5H21l-.35,12.13Z\\\"/></g></g></svg>\\n        </div>\\n        <p>{{data.station}}</p>\\n      </div>\\n\\n      <div class=\\\"leg\\\">\\n        <div class=\\\"park\\\">P</div>\\n        <p>{{data.parking}}</p>\\n      </div>\\n\\n      <div class=\\\"leg\\\">\\n        <div class=\\\"qr\\\"><img src=\\\"../assets/qr-icon.png\\\" /></div>\\n        <p>QR-Code Scanner</p>\\n      </div>\\n    </div>\\n</div>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n\n@Component({\n  selector: 'app-legend',\n  templateUrl: './legend.component.html',\n  styleUrls: ['./legend.component.scss'],\n})\nexport class LegendComponent implements OnInit {\n  data: any;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private nativeStorage: NativeStorage\n  ) {\n    this.nativeStorage.getItem('language')\n    .then(\n      data => {\n        if (data == 'de') {\n          this.data = {\n            'title': 'Legende:',\n            'location': 'Aktueller Standort',\n            'station': 'Station',\n            'parking': 'Parkplatz',\n          }\n        } else {\n          this.data = {\n            'title': 'Legend:',\n            'location': 'Current location',\n            'station': 'Station',\n            'parking': 'Parking spot',\n          }\n        }\n      },\n      error => console.log(error)\n    );\n  }\n\n  async close() {\n    await this.modalCtrl.dismiss();\n  }\n\n  ngOnInit() {}\n\n}\n","import { Component, Input } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n\n@Component({\n  selector: 'app-article-preview',\n  templateUrl: './article-preview.component.html',\n  styleUrls: ['./article-preview.component.scss'],\n})\nexport class ArticlePreviewComponent {\n  @Input() data: any;\n  more: any;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private router: Router,\n    private nativeStorage: NativeStorage\n  ) {\n    this.nativeStorage.getItem('language')\n    .then(\n      data => {\n        if (data == 'de') {\n          this.more = 'Mehr erfahren'\n        } else {\n          this.more = 'Read more'\n        }\n      },\n      error => console.log(error)\n    );\n  }\n\n  async close() {\n    await this.modalCtrl.dismiss();\n  }\n\n  route(id) {\n    this.router.navigate(['/article/', id]);\n    this.modalCtrl.dismiss();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationPageRoutingModule } from './location-routing.module';\n\nimport { LocationPage } from './location.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LocationPageRoutingModule\n  ],\n  declarations: [LocationPage]\n})\nexport class LocationPageModule {}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar class=\\\"solid-primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button  defaultHref=\\\"..\\\" (click)=\\\"goBack()\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title>\\n      {{ title }}\\n    </ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button color=\\\"light\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"solid-primary\\\" [fullscreen]=\\\"true\\\" *ngIf=\\\"content\\\">\\n  <div class=\\\"map-wrapper\\\">\\n    <div class=\\\"coord\\\"\\n      style=\\\"{{ setObjectLocation(item.coords) }}\\\"\\n      *ngFor=\\\"let item of content.children; let i = index\\\"\\n      (click)=\\\"showModal(i)\\\"\\n    >\\n      <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 39.62 34.31\\\">\\n        <defs>\\n          <style>\\n            .mapmarker{fill:#006c66;stroke-width:4px;}\\n            .mapmarker, .hex{stroke:#eee;stroke-miterlimit:10;}\\n            .textmarker{\\n              font-size: 1.5rem;\\n              fill: #eeeeee;\\n              font-family: Roboto;}\\n          </style>\\n        </defs>\\n        <g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\">\\n          <g id=\\\"Hintergrund\\\"><polygon class=\\\"mapmarker\\\" points=\\\"28.56 2 11.06 2 2.31 17.16 11.06 32.31 28.56 32.31 37.31 17.16 28.56 2\\\"/>\\n            <text class=\\\"textmarker\\\" transform=\\\"translate(12.5 25.5)\\\">{{ i + 1 }}</text>\\n          </g>\\n        </g>\\n      </svg>\\n    </div>\\n\\n    <div class=\\\"location\\\" style=\\\"{{ pointcoord }}\\\"></div>\\n\\n    <img src=\\\"data:image/png;base64,{{ content.map }}\\\" />\\n\\n  </div>\\n\\n  <div class=\\\"story\\\" *ngIf=\\\"content.hasstory == 'true'\\\" (click)=\\\"route(content.id)\\\">\\n    <svg id=\\\"Book_Layer_1\\\" data-name=\\\"Book Layer 1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 55.41 55.88\\\" style=\\\"width:60%; padding-top:0.6rem\\\"><defs><style>.book{fill:#eee;}</style></defs><polygon class=\\\"book\\\" points=\\\"7.85 0.56 27.7 7.18 47.55 0.56 47.55 40.26 27.7 46.88 7.85 40.26 7.85 0.56\\\"/><polygon class=\\\"book\\\" points=\\\"27.7 55.88 0 46.18 0 0 3.05 0 3.05 44.02 27.7 52.65 52.35 44.02 52.35 0 55.41 0 55.41 46.18 27.7 55.88\\\"/></svg>\\n  </div>\\n  <div class=\\\"info\\\" (click)=\\\"legend()\\\">i</div>\\n  <div id=\\\"qropen\\\" class=\\\"info\\\" (click)=\\\"startScanning()\\\"><img src=\\\"../assets/qr-icon.png\\\" /></div>\\n\\n</ion-content>\\n\\n<div id=\\\"qrclose\\\" (click)=\\\"stopScanning()\\\">\\n  <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 100 100\\\">\\n    <defs>\\n      <style>\\n        .closedark {\\n          fill: #eeeeee;\\n        }\\n      </style>\\n    </defs>\\n    <g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\">\\n      <g id=\\\"Layer_1-2\\\" data-name=\\\"Layer 1\\\"><polygon class=\\\"closedark\\\" points=\\\"100 9.83 90.17 0 50 40.17 9.83 0 0 9.83 40.17 50 0 90.17 9.83 100 50 59.83 90.17 100 100 90.17 59.83 50 100 9.83\\\"/></g>\\n    </g>\\n  </svg>\\n</div>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2NhdGlvbi5wYWdlLnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LocationPage } from './location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LocationPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcnRpY2xlLXByZXZpZXcuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ModalController, Platform, AlertController } from '@ionic/angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\n\nimport { SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\n\n// Import Components\nimport { ArticlePreviewComponent } from '../components/article-preview/article-preview.component';\nimport { LegendComponent } from '../components/legend/legend.component';\n\nimport { HTTP } from '@ionic-native/http/ngx';\n\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n@Component({\n  selector: 'app-location',\n  templateUrl: './location.page.html',\n  styleUrls: ['./location.page.scss'],\n})\nexport class LocationPage {\n  // Coords\n  coords: any;\n  latitude: number;\n  longitude: number;\n  pointcoord: any;\n  interval: any;\n\n  // General Data\n  title: any;\n  locationId: any;\n  content: any;\n  lang: any;\n\n  constructor(\n    private modalCtrl: ModalController,\n    public platform: Platform,\n    public alertController: AlertController,\n    public sanitizer: DomSanitizer,\n    private qrScanner: QRScanner,\n    private zone: NgZone,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private http: HTTP,\n    private nativeStorage: NativeStorage\n  )  {\n    // Check / Get Current Language\n    this.nativeStorage.getItem('language')\n    .then(\n      data => {\n        this.lang = data;\n\n        if (data == 'de') {\n          this.title = 'Digitaler Guide'\n        } else {\n          this.title = 'Digital Guide'\n        }\n\n        // Check for Offline Mode\n        this.nativeStorage.getItem('isOffline')\n        .then(\n          res => {\n            this.localGET();\n          },\n          error => this.restGET()\n        );\n      },\n      error => console.log(error)\n    );\n\n    // subscribe to cammera close\n    this.platform.backButton.subscribeWithPriority(0, () => {\n      document.getElementsByTagName('body')[0].classList.toggle(\"qractive\");\n      this.qrScanner.destroy();\n    });\n\n    // Android go Back\n    this.platform.backButton.subscribeWithPriority(10, () => {\n      this.router.navigate(['..']);\n    });\n  }\n\n  route(id) {\n    this.router.navigate(['/article/', id]);\n  }\n\n  goBack() {\n    this.router.navigate(['..']);\n  }\n\n  // Get Local Data\n  localGET() {\n    this.activatedRoute.params.subscribe(params => {\n      let path = params['locationId'];\n\n      this.nativeStorage.getItem('database')\n        .then(\n          data => {\n            data.main.forEach(element => {\n              if (element.id == path) {\n                  this.content = element;\n                  this.coords = element.coords;\n              }\n            });\n            this.callGeoInterval();\n          },\n          error => console.log(error)\n        );\n    });\n  }\n\n  // Get Rest Data\n  restGET() {\n    this.activatedRoute.params.subscribe(params => {\n\n         // REST Authentication\n         this.http.useBasicAuth('mail@example.de', 'Raute123');\n\n         //HTTP GET\n         this.http.get(`https://api.jankoll.de/rest/${this.lang}/map/${params['locationId']}`, {}, {})\n         .then(data => {\n           this.content = JSON.parse(data.data); // data received by server\n           this.coords = this.content.coords;\n           this.callGeoInterval();\n         })\n         .catch(error => {\n           console.log(error.status);\n           console.log(error.error); // error message as string\n           console.log(error.headers);\n         });\n    });\n  }\n\n\n  ionViewWillLeave() {\n    clearInterval(this.interval);\n  }\n\n  callGeoInterval() {\n    // Call and Update geo Location\n    this.interval = setInterval(() =>\n      this.getCurrentLocation()\n    , 1000);\n  }\n\n  // Call and set current geo location\n  async getCurrentLocation() {\n    let position = await Geolocation.getCurrentPosition();\n    this.latitude = position.coords.latitude;\n    this.longitude = position.coords.longitude;\n\n\n    let height = this.coords.leftTop.lat - this.coords.rightBot.lat;\n    let width = this.coords.rightBot.lon - this.coords.leftTop.lon;\n\n    this.pointcoord = 'top: ' + ((this.coords.leftTop.lat - this.latitude) * 100) / height + '%; right: ' + ((this.coords.rightBot.lon - this.longitude) * 100) / width + '%; opacity: 1;';\n\n    if (\n      (((this.coords.leftTop.lat - this.latitude) * 100) / height) > 100\n      || (((this.coords.leftTop.lat - this.latitude) * 100) / height) < 0\n    ) {\n      clearInterval(this.interval);\n      this.interval = setInterval(() =>\n        this.getCurrentLocation()\n      , 10000);\n    }\n  }\n\n  // Set artefact geo location\n  setObjectLocation(geoData) {\n    let height = this.coords.leftTop.lat - this.coords.rightBot.lat;\n    let width = this.coords.rightBot.lon - this.coords.leftTop.lon;\n\n    let ycoord = ((this.coords.leftTop.lat - geoData.lat) * 100) / height;\n    let xcoord = ((this.coords.rightBot.lon - geoData.lon) * 100) / width;\n\n    return \"right:\" + xcoord + \"%; top:\" + ycoord + \"%;\";\n  }\n\n  // Modal controllers\n  async showModal(id) {\n    const modal = await this.modalCtrl.create({\n      component: ArticlePreviewComponent,\n      componentProps: {\n        data: this.content.children[id]\n      },\n      // backdropDismiss:false,\n      swipeToClose: true,\n      cssClass: 'articleprev'\n    })\n    await modal.present();\n  }\n\n  async legend() {\n    const modal = await this.modalCtrl.create({\n      component: LegendComponent,\n      // backdropDismiss:false,\n      swipeToClose: true,\n      cssClass: 'legend'\n    })\n    await modal.present();\n  }\n\n  // QR-Code Functions\n  async accessCamera() {\n    let title = 'Kamera deaktiviert';\n    let msg = 'Wenn du einen QR-Code Scannen möchtest, erlaube bitte den Kamera zugriff in den Einstellungen.';\n    let cancel = 'Abbrechen';\n    let sett = 'Einstellungen';\n\n    if (this.lang == 'en') {\n      title = 'Camera disabled';\n      msg = 'If you want to scan a QR code, please allow camera access in the settings.';\n      cancel = 'Cancel';\n      sett = 'Settings';\n    }\n\n    const alert = await this.alertController.create({\n      header: title,\n      message: msg,\n      buttons: [\n        {\n          text: cancel,\n          role: 'cancel',\n          cssClass: 'secondary'\n        }, {\n          text: sett,\n          handler: () => {\n            this.qrScanner.openSettings()\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async undefinedQrCode() {\n    let title = 'Fehler';\n    let msg = 'Der QR-Code ist entweder nicht leserlich oder gehört nicht zur Tour.';\n\n    if (this.lang == 'en') {\n      title = 'Error';\n      msg = 'The QR code is either not readable or does not belong to the tour.';\n    }\n\n    const alert = await this.alertController.create({\n      header: title,\n      message: msg,\n      buttons: ['Okay']\n    });\n\n    await alert.present();\n  }\n\n  startScanning() {\n\n  // Optionally request the permission early\n    this.qrScanner.prepare().\n      then((status: QRScannerStatus) => {\n\n        if (status.authorized) {\n          this.qrScanner.show();\n          // Use Class to Toggle Backgound Visibility\n          document.getElementsByTagName('body')[0].classList.toggle(\"qractive\");\n          console.log(\"AUTHORIZED \");\n\n          // Exit on android back\n          this.platform.backButton.subscribeWithPriority(15, () => {\n            document.getElementsByTagName('body')[0].classList.toggle(\"qractive\");\n            this.qrScanner.destroy();\n          });\n\n          // debugger\n          let scanSub = this.qrScanner.scan()\n            .subscribe((textFound: string) => {\n\n              // Use Class to Toggle Backgound Visibility\n              document.getElementsByTagName('body')[0].classList.toggle(\"qractive\");\n\n              // Check if QR-Code is valid\n              if (this.content.children.map(x => x.id).includes(textFound)) {\n                this.zone.run(() => {\n                  this.router.navigate(['/article/', textFound]);\n                });\n                this.qrScanner.destroy();\n              } else {\n                this.undefinedQrCode();\n                this.qrScanner.destroy();\n              }\n            }, (err) => {\n              alert(JSON.stringify(err));\n            });\n        }\n      })\n      .catch((e: any) => {\n        console.log('Error is', e);\n        this.accessCamera();\n      });\n  }\n\n  stopScanning() {\n    // Use Class to Toggle Backgound Visibility\n    document.getElementsByTagName('body')[0].classList.toggle(\"qractive\");\n    this.qrScanner.destroy();\n  }\n\n  saveURL(type, id: string) {\n    console.log(id);\n\n    let saveurl = 'data:' + type + ';base64,' + id;\n    return this.sanitizer.bypassSecurityTrustResourceUrl(saveurl);\n  }\n\n}\n"]}