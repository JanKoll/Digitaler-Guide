{"version":3,"sources":["./src/app/article/article.page.ts","./src/app/article/article-routing.module.ts","./src/app/article/article.page.scss","./src/app/article/article.module.ts","./src/app/article/article.page.html"],"names":[],"mappings":"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","file":"article-article-module-es2015.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\nimport { AlertController, NavController, Platform, LoadingController } from '@ionic/angular';\n\nimport { HTTP } from '@ionic-native/http/ngx';\n\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n@Component({\n  selector: 'app-article',\n  templateUrl: './article.page.html',\n  styleUrls: ['./article.page.scss'],\n})\nexport class ArticlePage {\n  content: any;\n  title: any;\n  template: any;\n  lang: any;\n  learn: any;\n  youtube: any;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    public sanitizer: DomSanitizer,\n    public platform: Platform,\n    public alertController: AlertController,\n    private router: Router,\n    public navCtrl: NavController,\n    private http: HTTP,\n    public loadingController: LoadingController,\n    private nativeStorage: NativeStorage\n  ) {\n    // Check / Get Current Language\n    this.nativeStorage.getItem('language')\n    .then(\n      data => {\n        this.lang = data;\n\n        if (data == 'de') {\n          this.learn = 'Mehr erleben im'\n        } else {\n          this.learn = 'Experience more at'\n        }\n\n        // Check for Offline Mode\n        this.nativeStorage.getItem('isOffline')\n        .then(\n          res => {\n            this.localGET();\n          },\n          error => this.restGET()\n        );\n      },\n      error => console.log(error)\n    );\n\n    // Android go Back\n    this.platform.backButton.subscribeWithPriority(10, () => {\n      this.goBack();\n    });\n\n    // check if youtube is allowed\n    this.nativeStorage.getItem('youtube')\n    .then(\n      data => {\n        this.youtube = data;\n\n        let msg = \"Um ein YouTube Video direkt in der App zu schauen, musst du es erst erlauben.\";\n        let btn = \"Erlauben\";\n\n        if(this.lang == 'en') {\n          msg = \"To watch the YouTube video directly on your app, you have to allow it first.\";\n          btn = \"Allow\";\n        }\n\n        if (data == 'true') {\n          this.youtube = {'allowed': true};\n        } else {\n          this.youtube = {'allowed': false, 'msg': msg, 'btn': btn};\n        }\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n\n  goBack() {\n    this.activatedRoute.params.subscribe(params => {\n      let path = params['articleId'].split(\"/\");\n\n      if (path.length > 1 || this.content.children) {\n        this.router.navigate(['location', path[0]]);\n      } else {\n        this.router.navigate(['..']);\n      }\n    });\n  }\n\n\n  // Get Local Data\n  async localGET() {\n    const loading = await this.loadingController.create({\n      cssClass: 'spinner',\n    });\n    await loading.present();\n\n    this.activatedRoute.params.subscribe(params => {\n\n\n      console.log(params);\n      console.log(\"Hallo?!\");\n\n\n      let path = params['articleId'].split(\"/\");\n\n      this.nativeStorage.getItem('database')\n      .then(\n        data => {\n\n          // If page has Children (Is Locatoin)\n          if (path.length > 1) {\n            data.main.forEach(element => {\n              if (element.id == path[0]) {\n                element.children.forEach(child => {\n                  if (child.id == params.articleId) {\n                    this.content = child;\n                    this.template = 'article';\n                    this.title = child.title;\n                  }\n                });\n              }\n            });\n          } else {\n\n            data.meta.forEach(element => {\n              if (element.id == params.articleId) {\n                this.content = element;\n                this.template = 'default';\n\n                if (!element.children) {\n                  this.title = element.title;\n                } else {\n                  let title = \"Geschichte\";\n\n                  if(this.lang == 'en') {\n                    title = \"Story\";\n                  }\n\n                  this.title = title;\n                }\n              }\n            });\n\n            data.main.forEach(element => {\n              if (element.id == params.articleId) {\n                this.content = element;\n                this.template = 'default';\n\n                if (!element.children) {\n                  this.title = element.title;\n                } else {\n                  let title = \"Geschichte\";\n\n                  if(this.lang == 'en') {\n                    title = \"Story\";\n                  }\n\n                  this.title = title;\n                }\n              }\n            });\n          }\n          loading.dismiss();\n        },\n        error => {\n          let errTitle = \"Fehler\";\n          let errText = \"Fehler: Ups! Da ist etwas schiefgelaufen. Versuche bitte die Inhalte noch einmal herunterzuladen.\";\n\n          if(this.lang == 'en') {\n            errTitle = \"Error\";\n            errText = \"Ups! Something went wrong. Please try to download the content again.\";\n          }\n\n          this.content = {\n            \"id\": \"error\",\n            \"title\": errTitle,\n            \"template\": \"default\",\n            \"content\": [\n                {\n                    \"content\": {\n                        \"level\": \"h2\",\n                        \"text\": errText\n                    }\n                }\n            ]\n          };\n          this.title = errTitle;\n\n          loading.dismiss();\n\n          console.log(error);\n        }\n      );\n\n    });\n\n  }\n\n  // Get Rest Data\n  async restGET() {\n    const loading = await this.loadingController.create({\n      cssClass: 'spinner',\n    });\n    await loading.present();\n\n    this.activatedRoute.params.subscribe(params => {\n         let path = params['articleId'].split(\"/\");\n         let url = undefined;\n\n         if (path.length > 1) {\n           url = `https://api.jankoll.de/rest/${this.lang}/article/${path[0]}/${path[path.length - 1]}`;\n           this.template = 'article';\n         } else {\n           url = `https://api.jankoll.de/rest/${this.lang}/article/${path[path.length - 1]}`;\n           this.template = 'default';\n         }\n\n         // HTTP Request\n         this.http.useBasicAuth('mail@example.de', 'Raute123');\n\n         this.http.get(url, {}, {})\n         .then(data => {\n            this.content = JSON.parse(data.data); // data received by server\n            if (!this.content.children) {\n              this.title = this.content.title;\n            } else {\n              let title = \"Geschichte\";\n\n              if(this.lang == 'en') {\n                title = \"Story\";\n              }\n\n              this.title = title;\n            }\n            loading.dismiss();\n         })\n         .catch(error => {\n           console.log(error.status);\n           console.log(error.error); // error message as string\n           console.log(error.headers);\n           loading.dismiss();\n         });\n    });\n  }\n\n  // Allow YouTube\n  async allowYoutube() {\n    let title = 'YouTube erlauben';\n    let msg = 'Möchtest du das YouTube Video in der App schauen? Dabei werden möglicherweise Geräteinformationen an YouTube übermittelt.';\n    let cancel = 'Abbrechen';\n    let allow = 'Erlauben';\n\n    if (this.lang == 'en') {\n      title = 'Allow YouTube';\n      msg = 'Do you want to watch the YouTube video in the app? This might send device information to YouTube.';\n      cancel = 'Cancel';\n      allow = 'Allow';\n    }\n\n    const alert = await this.alertController.create({\n      header: title,\n      message: msg,\n      buttons: [\n        {\n          text: cancel,\n          role: 'cancel',\n          cssClass: 'secondary'\n        }, {\n          text: allow,\n          handler: () => {\n            // this.nativeStorage.clear()\n            //   .then(\n            //     data => {\n            //       console.log(data);\n            //     },\n            //     error => console.error(error)\n            //   );\n\n            this.nativeStorage.setItem('youtube', 'true')\n              .then(\n                (data) => {\n                  console.log(data);\n                  window.location.reload();\n                },\n                error => console.error('Error storing item', error)\n            );\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  updateVideoUrl(id: string) {\n    // Appending an ID to a YouTube URL is safe.\n    // Always make sure to construct SafeValue objects as\n    // close as possible to the input data, so\n    // that it's easier to check if the value is safe.\n    let dangerousVideoUrl = 'https://www.youtube.com/embed/' + id.split('watch?v=')[id.split('watch?v=').length - 1] + '?rel=0&showinfo=0';\n    return this.sanitizer.bypassSecurityTrustResourceUrl(dangerousVideoUrl);\n  }\n\n  saveURL(type, id: string) {\n    let saveurl = 'data:' + type + ';base64,' + id;\n    return this.sanitizer.bypassSecurityTrustResourceUrl(saveurl);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ArticlePage } from './article.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ArticlePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ArticlePageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcnRpY2xlLnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ArticlePageRoutingModule } from './article-routing.module';\n\nimport { ArticlePage } from './article.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ArticlePageRoutingModule\n  ],\n  declarations: [ArticlePage]\n})\nexport class ArticlePageModule {}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button defaultHref=\\\"..\\\" (click)=\\\"goBack()\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title>\\n      {{ title }}\\n    </ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button color=\\\"light\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div class=\\\"article\\\" *ngIf=\\\"content\\\">\\n\\n\\n    <!-- intro section -->\\n\\n    <div class=\\\"icon-header\\\" *ngIf=\\\"template == 'article'\\\">\\n      <div class=\\\"icon\\\">\\n        <img [src]=\\\"saveURL('image/png', content.icon)\\\" alt=\\\"{{ content.title }} Icon\\\">\\n      </div>\\n\\n      <p>{{ learn }}</p>\\n      <h2>{{ content.title }}</h2>\\n    </div>\\n\\n    <ion-text color=\\\"light\\\" *ngIf=\\\"template == 'article'\\\">\\n      <p>{{ content.teasertext }}</p>\\n\\n      <div *ngIf=\\\"content.hastime\\\" [innerHTML]=\\\"content.time\\\"></div>\\n    </ion-text>\\n\\n\\n    <!-- content section -->\\n\\n    <div *ngFor=\\\"let item of content.content; index as i;\\\">\\n      <div [ngSwitch]=\\\"item.type\\\" class=\\\"section-wrap\\\">\\n\\n        <!-- Heading -->\\n        <div *ngSwitchCase=\\\"'heading'\\\">\\n          <div [ngSwitch]=\\\"item.content.level\\\">\\n            <h1 *ngSwitchCase=\\\"'h1'\\\">{{ item.content.text }}</h1>\\n            <h2 *ngSwitchCase=\\\"'h2'\\\">{{ item.content.text }}</h2>\\n            <h3 *ngSwitchCase=\\\"'h3'\\\">{{ item.content.text }}</h3>\\n            <h4 *ngSwitchCase=\\\"'h4'\\\">{{ item.content.text }}</h4>\\n            <h5 *ngSwitchCase=\\\"'h5'\\\">{{ item.content.text }}</h5>\\n            <h6 *ngSwitchCase=\\\"'h6'\\\">{{ item.content.text }}</h6>\\n          </div>\\n        </div>\\n\\n        <!-- Text -->\\n        <div *ngSwitchCase=\\\"'text'\\\" [innerHTML]=\\\"item.content.text\\\"></div>\\n\\n        <!-- List -->\\n        <div *ngSwitchCase=\\\"'list'\\\" [innerHTML]=\\\"item.content.text\\\"></div>\\n\\n        <!-- img -->\\n        <div *ngSwitchCase=\\\"'img'\\\">\\n          <ion-img src=\\\"data:image/jpeg;base64,{{ item.content.image }}\\\" alt=\\\"{{ item.content.alt }}\\\"></ion-img>\\n        </div>\\n\\n        <!-- slider -->\\n        <div *ngSwitchCase=\\\"'img-slider'\\\">\\n         <ion-slides pager=\\\"true\\\">\\n            <ion-slide *ngFor=\\\"let img of item.content.image\\\">\\n              <ion-img src=\\\"data:image/jpeg;base64,{{ img }}\\\" alt=\\\"{{ content.title }} Artikel Bild\\\"></ion-img>\\n            </ion-slide>\\n          </ion-slides>\\n        </div>\\n\\n        <!-- video -->\\n        <div *ngSwitchCase=\\\"'youtube'\\\">\\n          <div *ngIf=\\\"youtube.allowed; else elseBlock\\\">\\n            <iframe [src]=\\\"updateVideoUrl(item.content.url)\\\" allowfullscreen>Ups, da ist etwas schief gelaufen!</iframe>\\n          </div>\\n          <ng-template #elseBlock>\\n            <p>{{ youtube.msg }}</p>\\n            <p><a href=\\\"{{ item.content.url }}\\\" style=\\\"color: #ffffff\\\">YouTube Link</a></p>\\n\\n            <ion-button color=\\\"light\\\" expand=\\\"full\\\" (click)=\\\"allowYoutube()\\\">{{ youtube.btn }}</ion-button>\\n          </ng-template>\\n\\n          <!-- <iframe [src]=\\\"updateVideoUrl(item.content.url)\\\" allowfullscreen>Ups, da ist etwas schief gelaufen!</iframe> -->\\n        </div>\\n\\n        <!-- audio -->\\n        <div *ngSwitchCase=\\\"'audio'\\\">\\n          <audio controls>\\n            <source [src]=\\\"saveURL('audio/wav', item.content.audio)\\\">\\n\\n            Ups, da ist etwas schief gelaufen!\\n          </audio>\\n        </div>\\n\\n        <!-- quote -->\\n        <div *ngSwitchCase=\\\"'quotes'\\\">\\n           <ion-slides pager=\\\"true\\\">\\n              <ion-slide *ngFor=\\\"let quote of item.content\\\">\\n                <div class=\\\"quote\\\">\\n                  <p>\\\"{{ quote.content.text }}\\\"</p>\\n                  <p class=\\\"cite\\\">- {{ quote.content.citation }} </p>\\n                </div>\\n              </ion-slide>\\n            </ion-slides>\\n        </div>\\n\\n        <!-- default -->\\n        <div *ngSwitchDefault>\\n          <p>Error!</p>\\n          <div [innerHTML]=\\\"item.content\\\">\\n          </div>\\n        </div>\\n\\n      </div>\\n    </div>\\n\\n\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}