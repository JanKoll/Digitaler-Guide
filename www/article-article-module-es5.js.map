{"version":3,"sources":["webpack:///src/app/article/article.page.ts","webpack:///src/app/article/article-routing.module.ts","webpack:///src/app/article/article.page.scss","webpack:///src/app/article/article.module.ts","webpack:///src/app/article/article.page.html"],"names":["ArticlePage","activatedRoute","sanitizer","navCtrl","http","nativeStorage","getItem","then","data","localGET","error","restGET","params","subscribe","path","split","url","undefined","length","content","title","console","log","useBasicAuth","get","JSON","parse","status","headers","id","dangerousVideoUrl","bypassSecurityTrustResourceUrl","type","selector","template","routes","component","ArticlePageRoutingModule","imports","forChild","exports","ArticlePageModule","declarations"],"mappings":"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","file":"article-article-module-es5.js","sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\nimport { NavController } from '@ionic/angular';\n\nimport { HTTP } from '@ionic-native/http/ngx';\n\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n@Component({\n  selector: 'app-article',\n  templateUrl: './article.page.html',\n  styleUrls: ['./article.page.scss'],\n})\nexport class ArticlePage {\n  content: any;\n  title: any;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    public sanitizer: DomSanitizer,\n    public navCtrl: NavController,\n    private http: HTTP,\n    private nativeStorage: NativeStorage\n  ) {\n    // Check for Offline Mode\n    this.nativeStorage.getItem('isOffline')\n    .then(\n      data => {\n        this.localGET();\n      },\n      error => this.restGET()\n    );\n  }\n\n\n  // Get Local Data\n  localGET() {\n    this.activatedRoute.params.subscribe(params => {\n\n      let path = params['articleId'].split(\"/\");\n      let url = undefined;\n\n      if (path.length > 1) {\n        url = `${params['articleId']}`;\n\n      } else {\n        url = `article/${params['articleId']}`;\n      }\n\n      this.nativeStorage.getItem(url)\n      .then(\n        data => {\n          this.content = data;\n          this.title = data.title;\n        },\n        error => {\n          this.content = {\n            \"id\": \"error\",\n            \"title\": \"Fehler\",\n            \"template\": \"default\",\n            \"content\": [\n                {\n                    \"content\": {\n                        \"level\": \"h2\",\n                        \"text\": \"Fehler: Ups! Da ist etwas schiefgelaufen. Versuche bitte die Inhalte noch einmal herunterzuladen.\"\n                    }\n                }\n            ]\n          };\n          this.title = \"Fehler\";\n\n          console.log(error);\n        }\n      );\n\n    });\n\n  }\n\n  // Get Rest Data\n  restGET() {\n    this.activatedRoute.params.subscribe(params => {\n         let path = params['articleId'].split(\"/\");\n         let url = undefined;\n\n         if (path.length > 1) {\n           url = `http://api.jankoll.de/rest/article/${path[0]}/${path[path.length - 1]}`;\n\n         } else {\n           url = `http://api.jankoll.de/rest/article/${path[path.length - 1]}`;\n         }\n\n         // HTTP Request\n         this.http.useBasicAuth('mail@example.de', 'Raute123');\n\n         this.http.get(url, {}, {})\n         .then(data => {\n            this.content = JSON.parse(data.data); // data received by server\n            this.title = this.content.title;\n         })\n         .catch(error => {\n           console.log(error.status);\n           console.log(error.error); // error message as string\n           console.log(error.headers);\n         });\n    });\n  }\n\n  updateVideoUrl(id: string) {\n    // Appending an ID to a YouTube URL is safe.\n    // Always make sure to construct SafeValue objects as\n    // close as possible to the input data, so\n    // that it's easier to check if the value is safe.\n    let dangerousVideoUrl = 'https://www.youtube.com/embed/' + id.split('watch?v=')[id.split('watch?v=').length - 1] + '?rel=0&showinfo=0';\n    return this.sanitizer.bypassSecurityTrustResourceUrl(dangerousVideoUrl);\n  }\n\n  saveURL(type, id: string) {\n    let dangerousVideoUrl = 'data:' + type + ';base64,' + id;\n    return this.sanitizer.bypassSecurityTrustResourceUrl(dangerousVideoUrl);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ArticlePage } from './article.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ArticlePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ArticlePageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcnRpY2xlLnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ArticlePageRoutingModule } from './article-routing.module';\n\nimport { ArticlePage } from './article.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ArticlePageRoutingModule\n  ],\n  declarations: [ArticlePage]\n})\nexport class ArticlePageModule {}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button defaultHref=\\\"location\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title>\\n      {{ title }}\\n    </ion-title>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button color=\\\"light\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div class=\\\"article\\\" *ngIf=\\\"content\\\">\\n\\n    <!-- intro section -->\\n\\n    <div class=\\\"icon-header\\\" *ngIf=\\\"content.template != 'default'\\\">\\n      <div class=\\\"icon\\\">\\n        <img [src]=\\\"saveURL('image/png', content.icon)\\\" alt=\\\"{{ content.title }} Icon\\\">\\n      </div>\\n\\n      <p>Mehr erleben im</p>\\n      <h2>{{ content.title }}</h2>\\n    </div>\\n\\n    <ion-text color=\\\"light\\\" *ngIf=\\\"content.template != 'default'\\\">\\n      <p>{{ content.teasertext }}</p>\\n    </ion-text>\\n\\n\\n    <!-- content section -->\\n\\n    <div *ngFor=\\\"let item of content.content; index as i;\\\">\\n      <div [ngSwitch]=\\\"item.type\\\" class=\\\"section-wrap\\\">\\n\\n        <!-- Heading -->\\n        <div *ngSwitchCase=\\\"'heading'\\\">\\n          <div [ngSwitch]=\\\"item.content.level\\\">\\n            <h1 *ngSwitchCase=\\\"'h1'\\\">{{ item.content.text }}</h1>\\n            <h2 *ngSwitchCase=\\\"'h2'\\\">{{ item.content.text }}</h2>\\n            <h3 *ngSwitchCase=\\\"'h3'\\\">{{ item.content.text }}</h3>\\n            <h4 *ngSwitchCase=\\\"'h4'\\\">{{ item.content.text }}</h4>\\n            <h5 *ngSwitchCase=\\\"'h5'\\\">{{ item.content.text }}</h5>\\n            <h6 *ngSwitchCase=\\\"'h6'\\\">{{ item.content.text }}</h6>\\n          </div>\\n        </div>\\n\\n        <!-- Text -->\\n        <div *ngSwitchCase=\\\"'text'\\\" [innerHTML]=\\\"item.content.text\\\"></div>\\n\\n        <!-- List -->\\n        <div *ngSwitchCase=\\\"'list'\\\" [innerHTML]=\\\"item.content.text\\\"></div>\\n\\n        <!-- img -->\\n        <div *ngSwitchCase=\\\"'img'\\\">\\n          <ion-img src=\\\"data:image/jpeg;base64,{{ item.content.image }}\\\" alt=\\\"{{ item.content.alt }}\\\"></ion-img>\\n        </div>\\n\\n        <!-- slider -->\\n        <div *ngSwitchCase=\\\"'img-slider'\\\">\\n         <ion-slides pager=\\\"true\\\">\\n            <ion-slide *ngFor=\\\"let img of item.content.image\\\">\\n              <ion-img src=\\\"data:image/jpeg;base64,{{ img }}\\\" alt=\\\"{{ content.title }} Artikel Bild\\\"></ion-img>\\n            </ion-slide>\\n          </ion-slides>\\n        </div>\\n\\n        <!-- video -->\\n        <div *ngSwitchCase=\\\"'youtube'\\\">\\n          <iframe [src]=\\\"updateVideoUrl(item.content.url)\\\" allowfullscreen>Ups, da ist etwas schief gelaufen!</iframe>\\n        </div>\\n\\n        <!-- audio -->\\n        <div *ngSwitchCase=\\\"'audio'\\\">\\n          <audio controls preload autobuffer>\\n            <source [src]=\\\"saveURL('audio/wav', item.content.audio)\\\" />\\n\\n            Ups, da ist etwas schief gelaufen!\\n          </audio>\\n        </div>\\n\\n        <!-- default -->\\n        <div *ngSwitchDefault>\\n          <p>Error!</p>\\n          <p>{{ item.content }}</p>\\n        </div>\\n\\n      </div>\\n    </div>\\n\\n\\n  </div>\\n</ion-content>\\n\";"]}